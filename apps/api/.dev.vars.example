# Local development overrides
# Copy this file to .dev.vars and fill in your values
# Note: CORS_ORIGIN and AUTHORIZED_PARTIES are in wrangler.jsonc

# Clerk Secrets (get from Clerk Dashboard → API Keys)
CLERK_SECRET_KEY=sk_test_xxxxx
CLERK_PUBLISHABLE_KEY=pk_test_xxxxx

# Clerk JWT Public Key for networkless verification
# Get from: Clerk Dashboard → API Keys → Show JWT public key
# Format: Single line with \n escape characters
CLERK_JWT_KEY="-----BEGIN PUBLIC KEY-----\nYOUR_PUBLIC_KEY_HERE\n-----END PUBLIC KEY-----"

# Clerk Webhook Signing Secret
# Get from: Clerk Dashboard → Webhooks → Add Endpoint → Copy Signing Secret
# Format: whsec_xxxxx
CLERK_WEBHOOK_SIGNING_SECRET=whsec_xxxxx

# ngrok static domain (each developer gets their own free static domain)
# Get from: https://dashboard.ngrok.com/domains → New Domain
# Format: xxx.ngrok-free.app or xxx.ngrok-free.dev
NGROK_DOMAIN=your-domain.ngrok-free.app

# Neon Database Connection String
# Get from: Neon Console → Dashboard → Connection Details → Connection String
# Format: postgres://user:password@host/database?sslmode=require
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# AWS Credentials for Rekognition
# Get from: AWS IAM Console → Users → Security Credentials
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxx
AWS_REGION=us-west-2

# Stripe Secret Key (get from Stripe Dashboard → Developers → API Keys)
# Use TEST mode keys for development (sk_test_xxx)
# IMPORTANT: NEVER use live keys (sk_live_xxx) in development!
# Note: Publishable key (pk_test_xxx) is for frontend only, not needed here
STRIPE_SECRET_KEY=sk_test_xxxxx

# Stripe Webhook Signing Secret
# Get from: Stripe Dashboard → Developers → Webhooks → Add Endpoint → Copy Signing Secret
# For local testing with Stripe CLI: stripe listen --forward-to localhost:8787/webhooks/stripe
# Format: whsec_xxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxx

# Admin API Key (for admin routes)
# Generate a secure random string for admin operations
ADMIN_API_KEY=admin-dev-key-change-in-production

# LINE Messaging API Credentials
# Get from: LINE Developers Console → Your Channel → Basic settings / Messaging API tab
# Channel Secret: Basic settings → Channel secret
# Access Token: Messaging API → Channel access token (long-lived) → Issue
LINE_CHANNEL_SECRET=xxxxx
LINE_CHANNEL_ACCESS_TOKEN=xxxxx

# App Base URL for QR code generation
# Local development: Use your local frontend URL
# This is used to generate QR codes that encode event search URLs
APP_BASE_URL=http://localhost:5173

# Image URLs for CF Images transformations and R2 storage
# CF_DOMAIN: Your Cloudflare zone domain (must have Images transformations enabled)
# R2_BASE_URL: Your R2 bucket custom domain OR dev URL
#
# For local development, use R2 dev URL format:
#   https://pub-<account-id>.r2.dev/<bucket-name>
# Get your account ID from: https://dash.cloudflare.com/to/account-id
#
# For staging/production, use custom domains:
#   R2_BASE_URL=https://photos-staging.sabaipics.com
#   R2_BASE_URL=https://photos.sabaipics.com
CF_DOMAIN=https://sabaipics.com
R2_BASE_URL=https://pub-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.r2.dev/sabaipics-photos

# R2 API Credentials for presigned URLs (optional, for download URL protection)
# Get from: Cloudflare Dashboard → R2 → Manage R2 API Tokens
# Create API Token with permissions: Object Read & Write for your bucket
# Note: Only needed if using presigned URLs for downloads
R2_ACCESS_KEY_ID=xxxxxxxxxxxxxxxxxxxx
R2_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CF_ACCOUNT_ID=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
