app = "recognition"
primary_region = "sin"

[env]
PORT = "8087"
MODEL_NAME = "ArcFace"
DETECTOR_BACKEND = "retinaface"
MIN_CONFIDENCE = "0.5"
MAX_FACES_PER_IMAGE = "100"

[http_service]
internal_port = 8087
force_https = true
auto_start_machines = true
min_machines_running = 0
processes = ["app"]

[[mounts]]
source = "data"
destination = "/data"

[build.args]
# Set build timeout to account for model download
BUILD_TIMEOUT = "1800"
